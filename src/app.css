@import 'tailwindcss';

/* 
 * Cosmic Starry Night Theme
 * A dark, cosmic aesthetic fitting for a worldbuilding game about creating entire histories
 */

/* Theme configuration using Tailwind CSS v4 @theme directive */
@theme {
	/* Cosmic Dark Theme - Default */
	/* Deep space black with hints of deep blue */
	--color-background: oklch(8% 0.02 265);
	/* Soft starlight white */
	--color-foreground: oklch(95% 0.01 265);

	/* Cards have a subtle dark surface */
	--color-card: oklch(12% 0.015 265);
	--color-card-foreground: oklch(95% 0.01 265);

	/* Popovers are slightly lighter than background */
	--color-popover: oklch(14% 0.02 265);
	--color-popover-foreground: oklch(95% 0.01 265);

	/* Primary - Cosmic accent (soft purple/blue) */
	--color-primary: oklch(75% 0.12 280);
	--color-primary-foreground: oklch(10% 0.02 280);

	/* Secondary - Muted space grey */
	--color-secondary: oklch(20% 0.02 265);
	--color-secondary-foreground: oklch(90% 0.01 265);

	/* Muted - Subtle dark */
	--color-muted: oklch(18% 0.015 265);
	--color-muted-foreground: oklch(60% 0.02 265);

	/* Accent - Nebula hint (soft pink/purple) */
	--color-accent: oklch(25% 0.04 310);
	--color-accent-foreground: oklch(95% 0.01 265);

	/* Destructive - Red warning */
	--color-destructive: oklch(55% 0.22 25);
	--color-destructive-foreground: oklch(98% 0.01 25);

	/* Borders - Subtle dark lines */
	--color-border: oklch(25% 0.02 265);
	--color-input: oklch(20% 0.015 265);
	--color-ring: oklch(70% 0.1 280);

	--radius: 0.5rem;

	/* Animation keyframes for dialog */
	--animate-in: animate-in 0.2s ease-out;
	--animate-out: animate-out 0.2s ease-in;

	/* Custom star colors */
	--color-star: oklch(98% 0.02 265);
	--color-star-dim: oklch(70% 0.02 265);
	--color-nebula-pink: oklch(55% 0.15 330);
	--color-nebula-blue: oklch(50% 0.12 260);
	--color-nebula-purple: oklch(45% 0.1 290);
}

/* Keyframes for animations */
@keyframes animate-in {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

@keyframes animate-out {
	from {
		opacity: 1;
	}
	to {
		opacity: 0;
	}
}

@keyframes fade-in-0 {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

@keyframes fade-out-0 {
	from {
		opacity: 1;
	}
	to {
		opacity: 0;
	}
}

@keyframes zoom-in-95 {
	from {
		transform: translate(-50%, -50%) scale(0.95);
	}
	to {
		transform: translate(-50%, -50%) scale(1);
	}
}

@keyframes zoom-out-95 {
	from {
		transform: translate(-50%, -50%) scale(1);
	}
	to {
		transform: translate(-50%, -50%) scale(0.95);
	}
}

@keyframes twinkle {
	0%,
	100% {
		opacity: 0.4;
	}
	50% {
		opacity: 1;
	}
}

/* Animation utilities */
.animate-in {
	animation: animate-in 0.2s ease-out;
}

.animate-out {
	animation: animate-out 0.2s ease-in;
}

[data-state='open'] {
	&.fade-in-0 {
		animation: fade-in-0 0.2s ease-out;
	}
	&.zoom-in-95 {
		animation: zoom-in-95 0.2s ease-out;
	}
}

[data-state='closed'] {
	&.fade-out-0 {
		animation: fade-out-0 0.2s ease-in;
	}
	&.zoom-out-95 {
		animation: zoom-out-95 0.2s ease-in;
	}
}

/* Standardized game-like animations */
@keyframes fade-in {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

@keyframes fade-out {
	from {
		opacity: 1;
	}
	to {
		opacity: 0;
	}
}

@keyframes scale-in {
	from {
		opacity: 0;
		transform: scale(0.95);
	}
	to {
		opacity: 1;
		transform: scale(1);
	}
}

@keyframes scale-out {
	from {
		opacity: 1;
		transform: scale(1);
	}
	to {
		opacity: 0;
		transform: scale(0.95);
	}
}

@keyframes slide-in-up {
	from {
		opacity: 0;
		transform: translateY(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes slide-out-down {
	from {
		opacity: 1;
		transform: translateY(0);
	}
	to {
		opacity: 0;
		transform: translateY(10px);
	}
}

@keyframes slide-in-right {
	from {
		opacity: 0;
		transform: translateX(10px);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

@keyframes slide-out-right {
	from {
		opacity: 1;
		transform: translateX(0);
	}
	to {
		opacity: 0;
		transform: translateX(10px);
	}
}

@keyframes pulse-subtle {
	0%,
	100% {
		opacity: 1;
	}
	50% {
		opacity: 0.7;
	}
}

@keyframes shimmer {
	0% {
		background-position: -200% 0;
	}
	100% {
		background-position: 200% 0;
	}
}

@keyframes float {
	0%,
	100% {
		transform: translateY(0);
	}
	50% {
		transform: translateY(-4px);
	}
}

/* Animation utility classes */
.animate-fade-in {
	animation: fade-in 0.2s cubic-bezier(0, 0, 0.2, 1) forwards;
}

.animate-fade-out {
	animation: fade-out 0.15s cubic-bezier(0.4, 0, 1, 1) forwards;
}

.animate-scale-in {
	animation: scale-in 0.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.animate-scale-out {
	animation: scale-out 0.15s cubic-bezier(0.4, 0, 1, 1) forwards;
}

.animate-slide-in-up {
	animation: slide-in-up 0.2s cubic-bezier(0, 0, 0.2, 1) forwards;
}

.animate-slide-out-down {
	animation: slide-out-down 0.15s cubic-bezier(0.4, 0, 1, 1) forwards;
}

.animate-slide-in-right {
	animation: slide-in-right 0.2s cubic-bezier(0, 0, 0.2, 1) forwards;
}

.animate-slide-out-right {
	animation: slide-out-right 0.15s cubic-bezier(0.4, 0, 1, 1) forwards;
}

.animate-pulse {
	animation: pulse-subtle 2s ease-in-out infinite;
}

.animate-shimmer {
	background: linear-gradient(
		90deg,
		var(--color-muted) 25%,
		var(--color-card) 50%,
		var(--color-muted) 75%
	);
	background-size: 200% 100%;
	animation: shimmer 1.5s ease-in-out infinite;
}

.animate-float {
	animation: float 3s ease-in-out infinite;
}

/* Base styles */
* {
	border-color: var(--color-border);
}

html {
	/* Always dark theme - cosmic background */
	color-scheme: dark;
	/* Prevent horizontal scrolling on mobile (iOS) */
	overflow-x: hidden;
}

body {
	background-color: var(--color-background);
	color: var(--color-foreground);
	font-family:
		system-ui,
		-apple-system,
		BlinkMacSystemFont,
		'Segoe UI',
		Roboto,
		Oxygen,
		Ubuntu,
		Cantarell,
		sans-serif;
	min-height: 100vh;
	/* Prevent horizontal scrolling on mobile (iOS) */
	overflow-x: hidden;
	/* Ensure body doesn't expand beyond viewport */
	max-width: 100vw;
}

/* Screen reader only utility */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border-width: 0;
}
